import{StandardWheelEvent}from"../../mouseEvent.js";import{AbstractScrollbar}from"./abstractScrollbar.js";import{ARROW_IMG_SIZE}from"./scrollbarArrow.js";import{ScrollbarState}from"./scrollbarState.js";import{Codicon}from"../../../common/codicons.js";export class HorizontalScrollbar extends AbstractScrollbar{constructor(o,r,t){const e=o.getScrollDimensions(),l=o.getCurrentScrollPosition();if(super({lazyRender:r.lazyRender,host:t,scrollbarState:new ScrollbarState(r.horizontalHasArrows?r.arrowSize:0,2===r.horizontal?0:r.horizontalScrollbarSize,2===r.vertical?0:r.verticalScrollbarSize,e.width,e.scrollWidth,l.scrollLeft),visibility:r.horizontal,extraScrollbarClassName:"horizontal",scrollable:o,scrollByPage:r.scrollByPage}),r.horizontalHasArrows){const o=(r.arrowSize-ARROW_IMG_SIZE)/2,t=(r.horizontalScrollbarSize-ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:Codicon.scrollbarButtonLeft,top:t,left:o,bottom:void 0,right:void 0,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:Codicon.scrollbarButtonRight,top:t,left:void 0,bottom:void 0,right:o,bgWidth:r.arrowSize,bgHeight:r.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((r.horizontalScrollbarSize-r.horizontalSliderSize)/2),0,void 0,r.horizontalSliderSize)}_updateSlider(o,r){this.slider.setWidth(o),this.slider.setLeft(r)}_renderDomNode(o,r){this.domNode.setWidth(o),this.domNode.setHeight(r),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(o){return this._shouldRender=this._onElementScrollSize(o.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(o.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(o.width)||this._shouldRender,this._shouldRender}_mouseDownRelativePosition(o,r){return o}_sliderMousePosition(o){return o.posx}_sliderOrthogonalMousePosition(o){return o.posy}_updateScrollbarSize(o){this.slider.setHeight(o)}writeScrollPosition(o,r){o.scrollLeft=r}updateOptions(o){this.updateScrollbarSize(2===o.horizontal?0:o.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(2===o.vertical?0:o.verticalScrollbarSize),this._visibilityController.setVisibility(o.horizontal),this._scrollByPage=o.scrollByPage}}
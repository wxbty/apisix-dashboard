import{globals}from"./platform.js";const hasPerformanceNow=globals.performance&&"function"===typeof globals.performance.now;export class StopWatch{constructor(t){this._highResolution=hasPerformanceNow&&t,this._startTime=this._now(),this._stopTime=-1}static create(t=!0){return new StopWatch(t)}stop(){this._stopTime=this._now()}elapsed(){return-1!==this._stopTime?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?globals.performance.now():Date.now()}}
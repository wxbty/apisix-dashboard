var __decorate=this&&this.__decorate||function(e,o,t,i){var r,n=arguments.length,c=n<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)c=Reflect.decorate(e,o,t,i);else for(var s=e.length-1;s>=0;s--)(r=e[s])&&(c=(n<3?r(c):n>3?r(o,t,c):r(o,t))||c);return n>3&&c&&Object.defineProperty(o,t,c),c},__param=this&&this.__param||function(e,o){return function(t,i){o(t,i,e)}},__awaiter=this&&this.__awaiter||function(e,o,t,i){function r(e){return e instanceof t?e:new t((function(o){o(e)}))}return new(t||(t=Promise))((function(t,n){function c(e){try{m(i.next(e))}catch(o){n(o)}}function s(e){try{m(i["throw"](e))}catch(o){n(o)}}function m(e){e.done?t(e.value):r(e.value).then(c,s)}m((i=i.apply(e,o||[])).next())}))};import{Registry}from"../../../../platform/registry/common/platform.js";import{Extensions}from"../../../../platform/quickinput/common/quickAccess.js";import{QuickCommandNLS}from"../../../common/standaloneStrings.js";import{ICodeEditorService}from"../../../browser/services/codeEditorService.js";import{AbstractEditorCommandsQuickAccessProvider}from"../../../contrib/quickAccess/browser/commandsQuickAccess.js";import{withNullAsUndefined}from"../../../../base/common/types.js";import{IInstantiationService}from"../../../../platform/instantiation/common/instantiation.js";import{IKeybindingService}from"../../../../platform/keybinding/common/keybinding.js";import{ICommandService}from"../../../../platform/commands/common/commands.js";import{ITelemetryService}from"../../../../platform/telemetry/common/telemetry.js";import{IDialogService}from"../../../../platform/dialogs/common/dialogs.js";import{EditorAction,registerEditorAction}from"../../../browser/editorExtensions.js";import{EditorContextKeys}from"../../../common/editorContextKeys.js";import{IQuickInputService}from"../../../../platform/quickinput/common/quickInput.js";let StandaloneCommandsQuickAccessProvider=class extends AbstractEditorCommandsQuickAccessProvider{constructor(e,o,t,i,r,n){super({showAlias:!1},e,t,i,r,n),this.codeEditorService=o}get activeTextEditorControl(){return withNullAsUndefined(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return __awaiter(this,void 0,void 0,(function*(){return this.getCodeEditorCommandPicks()}))}};StandaloneCommandsQuickAccessProvider=__decorate([__param(0,IInstantiationService),__param(1,ICodeEditorService),__param(2,IKeybindingService),__param(3,ICommandService),__param(4,ITelemetryService),__param(5,IDialogService)],StandaloneCommandsQuickAccessProvider);export{StandaloneCommandsQuickAccessProvider};Registry.as(Extensions.Quickaccess).registerQuickAccessProvider({ctor:StandaloneCommandsQuickAccessProvider,prefix:StandaloneCommandsQuickAccessProvider.PREFIX,helpEntries:[{description:QuickCommandNLS.quickCommandHelp,needsEditor:!0}]});export class GotoLineAction extends EditorAction{constructor(){super({id:"editor.action.quickCommand",label:QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(IQuickInputService).quickAccess.show(StandaloneCommandsQuickAccessProvider.PREFIX)}}registerEditorAction(GotoLineAction);
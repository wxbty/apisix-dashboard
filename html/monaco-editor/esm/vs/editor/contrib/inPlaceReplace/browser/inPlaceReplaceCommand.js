import{Selection}from"../../../common/core/selection.js";export class InPlaceReplaceCommand{constructor(e,n,t){this._editRange=e,this._originalSelection=n,this._text=t}getEditOperations(e,n){n.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,n){const t=n.getInverseEditOperations(),i=t[0].range;return this._originalSelection.isEmpty()?new Selection(i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn),i.endLineNumber,Math.min(this._originalSelection.positionColumn,i.endColumn)):new Selection(i.endLineNumber,i.endColumn-this._text.length,i.endLineNumber,i.endColumn)}}
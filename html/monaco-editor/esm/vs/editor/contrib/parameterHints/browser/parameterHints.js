var __decorate=this&&this.__decorate||function(t,e,r,i){var o,n=arguments.length,a=n<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,r,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(n<3?o(a):n>3?o(e,r,a):o(e,r))||a);return n>3&&a&&Object.defineProperty(e,r,a),a},__param=this&&this.__param||function(t,e){return function(r,i){e(r,i,t)}};import{Disposable}from"../../../../base/common/lifecycle.js";import{EditorAction,EditorCommand,registerEditorAction,registerEditorCommand,registerEditorContribution}from"../../../browser/editorExtensions.js";import{EditorContextKeys}from"../../../common/editorContextKeys.js";import*as modes from"../../../common/languages.js";import{Context}from"./provideSignatureHelp.js";import*as nls from"../../../../nls.js";import{ContextKeyExpr}from"../../../../platform/contextkey/common/contextkey.js";import{IInstantiationService}from"../../../../platform/instantiation/common/instantiation.js";import{ParameterHintsWidget}from"./parameterHintsWidget.js";let ParameterHintsController=class t extends Disposable{constructor(t,e){super(),this.editor=t,this.widget=this._register(e.createInstance(ParameterHintsWidget,this.editor))}static get(e){return e.getContribution(t.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(t){this.widget.trigger(t)}};ParameterHintsController.ID="editor.controller.parameterHints",ParameterHintsController=__decorate([__param(1,IInstantiationService)],ParameterHintsController);export class TriggerParameterHintsAction extends EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:nls.localize("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(t,e){const r=ParameterHintsController.get(e);r&&r.trigger({triggerKind:modes.SignatureHelpTriggerKind.Invoke})}}registerEditorContribution(ParameterHintsController.ID,ParameterHintsController),registerEditorAction(TriggerParameterHintsAction);const weight=175,ParameterHintsCommand=EditorCommand.bindToContribution(ParameterHintsController.get);registerEditorCommand(new ParameterHintsCommand({id:"closeParameterHints",precondition:Context.Visible,handler:t=>t.cancel(),kbOpts:{weight:weight,kbExpr:EditorContextKeys.focus,primary:9,secondary:[1033]}})),registerEditorCommand(new ParameterHintsCommand({id:"showPrevParameterHint",precondition:ContextKeyExpr.and(Context.Visible,Context.MultipleSignatures),handler:t=>t.previous(),kbOpts:{weight:weight,kbExpr:EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),registerEditorCommand(new ParameterHintsCommand({id:"showNextParameterHint",precondition:ContextKeyExpr.and(Context.Visible,Context.MultipleSignatures),handler:t=>t.next(),kbOpts:{weight:weight,kbExpr:EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));
import{Range}from"../../../common/core/range.js";import{Selection}from"../../../common/core/selection.js";export class MoveCaretCommand{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,i=this._selection.startColumn,s=this._selection.endColumn;if((!this._isMovingLeft||1!==i)&&(this._isMovingLeft||s!==e.getLineMaxColumn(n)))if(this._isMovingLeft){const o=new Range(n,i-1,n,i),r=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Range(n,s,n,s),r)}else{const o=new Range(n,s,n,s+1),r=e.getValueInRange(o);t.addEditOperation(o,null),t.addEditOperation(new Range(n,i,n,i),r)}}computeCursorState(e,t){return this._isMovingLeft?new Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}
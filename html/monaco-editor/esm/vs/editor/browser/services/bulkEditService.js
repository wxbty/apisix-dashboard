import{createDecorator}from"../../../platform/instantiation/common/instantiation.js";import{URI}from"../../../base/common/uri.js";import{isObject}from"../../../base/common/types.js";export const IBulkEditService=createDecorator("IWorkspaceEditService");function isWorkspaceFileEdit(e){return isObject(e)&&(Boolean(e.newUri)||Boolean(e.oldUri))}function isWorkspaceTextEdit(e){return isObject(e)&&URI.isUri(e.resource)&&isObject(e.edit)}export class ResourceEdit{constructor(e){this.metadata=e}static convert(e){return e.edits.map((e=>{if(isWorkspaceTextEdit(e))return new ResourceTextEdit(e.resource,e.edit,e.modelVersionId,e.metadata);if(isWorkspaceFileEdit(e))return new ResourceFileEdit(e.oldUri,e.newUri,e.options,e.metadata);throw new Error("Unsupported edit")}))}}export class ResourceTextEdit extends ResourceEdit{constructor(e,t,r,o){super(o),this.resource=e,this.textEdit=t,this.versionId=r}}export class ResourceFileEdit extends ResourceEdit{constructor(e,t,r,o){super(o),this.oldResource=e,this.newResource=t,this.options=r}}
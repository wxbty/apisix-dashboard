var __decorate=this&&this.__decorate||function(e,t,r,o){var i,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(n<3?i(s):n>3?i(t,r,s):i(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s},__param=this&&this.__param||function(e,t){return function(r,o){t(r,o,e)}};import{$,append,EventHelper}from"../../../base/browser/dom.js";import{DomEmitter}from"../../../base/browser/event.js";import{StandardKeyboardEvent}from"../../../base/browser/keyboardEvent.js";import{EventType as TouchEventType,Gesture}from"../../../base/browser/touch.js";import{Event}from"../../../base/common/event.js";import{Disposable}from"../../../base/common/lifecycle.js";import{IOpenerService}from"../common/opener.js";import{textLinkActiveForeground,textLinkForeground}from"../../theme/common/colorRegistry.js";import{registerThemingParticipant}from"../../theme/common/themeService.js";let Link=class extends Disposable{constructor(e,t,r={},o){var i;super(),this._link=t,this._enabled=!0,this.el=append(e,$("a.monaco-link",{tabIndex:null!==(i=t.tabIndex)&&void 0!==i?i:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const n=this._register(new DomEmitter(this.el,"click")),s=this._register(new DomEmitter(this.el,"keypress")),a=Event.chain(s.event).map((e=>new StandardKeyboardEvent(e))).filter((e=>3===e.keyCode)).event,l=this._register(new DomEmitter(this.el,TouchEventType.Tap)).event;this._register(Gesture.addTarget(this.el));const c=Event.any(n.event,a,l);this._register(c((e=>{this.enabled&&(EventHelper.stop(e,!0),(null===r||void 0===r?void 0:r.opener)?r.opener(this._link.href):o.open(this._link.href,{allowCommands:!0}))}))),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};Link=__decorate([__param(3,IOpenerService)],Link);export{Link};registerThemingParticipant(((e,t)=>{const r=e.getColor(textLinkForeground);r&&t.addRule(`.monaco-link { color: ${r}; }`);const o=e.getColor(textLinkActiveForeground);o&&t.addRule(`.monaco-link:hover { color: ${o}; }`)}));
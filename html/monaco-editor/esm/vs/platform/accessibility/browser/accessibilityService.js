var __decorate=this&&this.__decorate||function(e,i,t,r){var o,c=arguments.length,n=c<3?i:null===r?r=Object.getOwnPropertyDescriptor(i,t):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)n=Reflect.decorate(e,i,t,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(n=(c<3?o(n):c>3?o(i,t,n):o(i,t))||n);return c>3&&n&&Object.defineProperty(i,t,n),n},__param=this&&this.__param||function(e,i){return function(t,r){i(t,r,e)}};import{Emitter}from"../../../base/common/event.js";import{Disposable}from"../../../base/common/lifecycle.js";import{CONTEXT_ACCESSIBILITY_MODE_ENABLED}from"../common/accessibility.js";import{IConfigurationService}from"../../configuration/common/configuration.js";import{IContextKeyService}from"../../contextkey/common/contextkey.js";let AccessibilityService=class extends Disposable{constructor(e,i){super(),this._contextKeyService=e,this._configurationService=i,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new Emitter,this._accessibilityModeEnabledContext=CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const t=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration((e=>{e.affectsConfiguration("editor.accessibilitySupport")&&(t(),this._onDidChangeScreenReaderOptimized.fire())}))),t(),this.onDidChangeScreenReaderOptimized((()=>t()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const e=this._configurationService.getValue("editor.accessibilitySupport");return"on"===e||"auto"===e&&2===this._accessibilitySupport}getAccessibilitySupport(){return this._accessibilitySupport}};AccessibilityService=__decorate([__param(0,IContextKeyService),__param(1,IConfigurationService)],AccessibilityService);export{AccessibilityService};
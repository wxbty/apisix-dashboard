(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{"7k0B":function(n,e,l){n.exports={container:"container___2oGkG",lang:"lang___2662O",github:"github___31en4",content:"content___J4rQj",top:"top___2gS3O",header:"header___1mBJZ",logo:"logo___1J4-o",title:"title___2BQEW",desc:"desc___3LG7g",main:"main___1F5GY",icon:"icon___86xRR",submit:"submit___4pgL-",other:"other___1eS4J",register:"register___ofKT2"}},v0ld:function(n,e,l){"use strict";l.r(e);l("+L6B");var t=l("2/Rp"),a=(l("/xke"),l("TeRw")),c=l("tJVT"),o=(l("Znn+"),l("ZTPi")),i=l("oN5p"),s=l("q1tI"),r=l.n(s),u=l("9kvl"),m=l("55Ip"),d=l("mxmt"),p=l.n(d),b=l("CwrG"),f=l("qNS0"),h=l("xwDX"),g=l("4+CC"),_=l("7k0B"),v=l.n(_);function w(){var n="/Users/fgh/IdeaProjects/apisix-dashboard/web/src/pages/User/Login.tsx",e="669ae4828dc9b980544726cc14e64cae6618ac3c",l=new Function("return this")(),t="__coverage__",a={path:"/Users/fgh/IdeaProjects/apisix-dashboard/web/src/pages/User/Login.tsx",statementMap:{0:{start:{line:31,column:12},end:{line:31,column:24}},1:{start:{line:36,column:47},end:{line:36,column:68}},2:{start:{line:42,column:23},end:{line:129,column:1}},3:{start:{line:43,column:28},end:{line:43,column:37}},4:{start:{line:44,column:40},end:{line:44,column:65}},5:{start:{line:46,column:22},end:{line:50,column:3}},6:{start:{line:47,column:4},end:{line:49,column:7}},7:{start:{line:48,column:6},end:{line:48,column:69}},8:{start:{line:48,column:33},end:{line:48,column:69}},9:{start:{line:52,column:19},end:{line:78,column:3}},10:{start:{line:53,column:4},end:{line:77,column:7}},11:{start:{line:54,column:6},end:{line:76,column:7}},12:{start:{line:55,column:8},end:{line:75,column:11}},13:{start:{line:56,column:10},end:{line:74,column:11}},14:{start:{line:57,column:12},end:{line:73,column:15}},15:{start:{line:62,column:31},end:{line:62,column:54}},16:{start:{line:63,column:16},end:{line:70,column:17}},17:{start:{line:64,column:18},end:{line:64,column:58}},18:{start:{line:65,column:18},end:{line:67,column:19}},19:{start:{line:66,column:20},end:{line:66,column:35}},20:{start:{line:69,column:18},end:{line:69,column:33}},21:{start:{line:71,column:16},end:{line:71,column:42}},22:{start:{line:80,column:20},end:{line:84,column:3}},23:{start:{line:81,column:4},end:{line:83,column:5}},24:{start:{line:82,column:6},end:{line:82,column:17}},25:{start:{line:86,column:2},end:{line:89,column:3}},26:{start:{line:87,column:4},end:{line:87,column:25}},27:{start:{line:88,column:4},end:{line:88,column:16}},28:{start:{line:90,column:2},end:{line:128,column:4}},29:{start:{line:116,column:14},end:{line:118,column:20}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:42,column:23},end:{line:42,column:24}},loc:{start:{line:42,column:29},end:{line:129,column:1}},line:42},1:{name:"(anonymous_1)",decl:{start:{line:46,column:22},end:{line:46,column:23}},loc:{start:{line:46,column:45},end:{line:50,column:3}},line:46},2:{name:"(anonymous_2)",decl:{start:{line:47,column:25},end:{line:47,column:26}},loc:{start:{line:47,column:42},end:{line:49,column:5}},line:47},3:{name:"(anonymous_3)",decl:{start:{line:52,column:19},end:{line:52,column:20}},loc:{start:{line:52,column:25},end:{line:78,column:3}},line:52},4:{name:"(anonymous_4)",decl:{start:{line:53,column:33},end:{line:53,column:34}},loc:{start:{line:53,column:47},end:{line:77,column:5}},line:53},5:{name:"(anonymous_5)",decl:{start:{line:55,column:55},end:{line:55,column:56}},loc:{start:{line:55,column:69},end:{line:75,column:9}},line:55},6:{name:"(anonymous_6)",decl:{start:{line:61,column:23},end:{line:61,column:24}},loc:{start:{line:61,column:29},end:{line:72,column:15}},line:61},7:{name:"(anonymous_7)",decl:{start:{line:80,column:20},end:{line:80,column:21}},loc:{start:{line:80,column:52},end:{line:84,column:3}},line:80},8:{name:"(anonymous_8)",decl:{start:{line:115,column:30},end:{line:115,column:31}},loc:{start:{line:116,column:14},end:{line:118,column:20}},line:116}},branchMap:{0:{loc:{start:{line:48,column:6},end:{line:48,column:69}},type:"if",locations:[{start:{line:48,column:6},end:{line:48,column:69}},{start:{line:48,column:6},end:{line:48,column:69}}],line:48},1:{loc:{start:{line:54,column:6},end:{line:76,column:7}},type:"if",locations:[{start:{line:54,column:6},end:{line:76,column:7}},{start:{line:54,column:6},end:{line:76,column:7}}],line:54},2:{loc:{start:{line:56,column:10},end:{line:74,column:11}},type:"if",locations:[{start:{line:56,column:10},end:{line:74,column:11}},{start:{line:56,column:10},end:{line:74,column:11}}],line:56},3:{loc:{start:{line:63,column:16},end:{line:70,column:17}},type:"if",locations:[{start:{line:63,column:16},end:{line:70,column:17}},{start:{line:63,column:16},end:{line:70,column:17}}],line:63},4:{loc:{start:{line:65,column:18},end:{line:67,column:19}},type:"if",locations:[{start:{line:65,column:18},end:{line:67,column:19}},{start:{line:65,column:18},end:{line:67,column:19}}],line:65},5:{loc:{start:{line:81,column:4},end:{line:83,column:5}},type:"if",locations:[{start:{line:81,column:4},end:{line:83,column:5}},{start:{line:81,column:4},end:{line:83,column:5}}],line:81},6:{loc:{start:{line:86,column:2},end:{line:89,column:3}},type:"if",locations:[{start:{line:86,column:2},end:{line:89,column:3}},{start:{line:86,column:2},end:{line:89,column:3}}],line:86}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"669ae4828dc9b980544726cc14e64cae6618ac3c"},c=l[t]||(l[t]={});c[n]&&c[n].hash===e||(c[n]=a);var o=c[n];return w=function(){return o},o}w();var y=(w().s[0]++,o["a"].TabPane),E=(w().s[1]++,[h["a"]]);w().s[2]++;var x=function(){w().f[0]++;var n=(w().s[3]++,Object(u["h"])()),e=n.formatMessage,l=(w().s[4]++,Object(s["useState"])(E[0])),d=Object(c["a"])(l,2),h=d[0],_=d[1];w().s[5]++;var x=function(n){w().f[1]++,w().s[6]++,E.forEach((function(e,l){w().f[2]++,w().s[7]++,n===e.id?(w().b[0][0]++,w().s[8]++,_(E[l])):w().b[0][1]++}))};w().s[9]++;var k=function(){w().f[3]++,w().s[10]++,h.checkData().then((function(n){w().f[4]++,w().s[11]++,n?(w().b[1][0]++,w().s[12]++,h.submit(h.getData()).then((function(n){w().f[5]++,w().s[13]++,n.status?(w().b[2][0]++,w().s[14]++,a["default"].success({message:e({id:"component.status.success"}),description:n.message,duration:1,onClose:function(){w().f[6]++;var n=(w().s[15]++,Object(f["c"])("redirect"));w().s[16]++,n?(w().b[3][0]++,w().s[17]++,n=decodeURIComponent(n),w().s[18]++,"/user/logout"===n?(w().b[4][0]++,w().s[19]++,n="/"):w().b[4][1]++):(w().b[3][1]++,w().s[20]++,n="/"),w().s[21]++,u["e"].replace(n)}})):w().b[2][1]++}))):w().b[1][1]++}))};w().s[22]++;var M=function(n){w().f[7]++,w().s[23]++,"Enter"===n.key?(w().b[5][0]++,w().s[24]++,k()):w().b[5][1]++};return w().s[25]++,localStorage.getItem("token")?(w().b[6][0]++,w().s[26]++,u["e"].replace("/"),w().s[27]++,null):(w().b[6][1]++,w().s[28]++,r.a.createElement("div",{className:v.a.container},r.a.createElement("div",{className:v.a.lang},r.a.createElement("div",{className:v.a.github},r.a.createElement("a",{target:"_blank",href:"https://apisix.apache.org"},r.a.createElement(i["a"],null))),r.a.createElement(g["a"],null)),r.a.createElement("div",{className:v.a.content},r.a.createElement("div",{className:v.a.top},r.a.createElement("div",{className:v.a.header},r.a.createElement(m["a"],{to:"/"},r.a.createElement("img",{alt:"logo",className:v.a.logo,src:p.a}))),r.a.createElement("div",{className:v.a.desc},"Apache APISIX Dashboard",r.a.createElement("br",null),"Cloud-Native Microservices API Gateway")),r.a.createElement("div",{className:v.a.main},r.a.createElement(o["a"],{activeKey:h.id,onChange:x,onKeyDown:M},E.map((function(n){return w().f[8]++,w().s[29]++,r.a.createElement(y,{key:n.id,tab:n.name},n.render())}))),r.a.createElement(t["a"],{className:v.a.submit,size:"large",type:"primary",onClick:k},e({id:"component.user.login"})))),r.a.createElement(b["a"],null)))};e["default"]=x},xwDX:function(n,e,l){"use strict";var t=l("WmNS"),a=l.n(t),c=l("9og8"),o=(l("5Dmo"),l("3S7+")),i=(l("y8nQ"),l("Vl3Y")),s=(l("5NDa"),l("5rEg")),r=l("cJ7L"),u=l("q1tI"),m=l.n(u),d={icon:function(n,e){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304z",fill:n}},{tag:"path",attrs:{d:"M232 840h560V536H232v304zm280-226a48.01 48.01 0 0128 87v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53a48.01 48.01 0 0128-87z",fill:e}},{tag:"path",attrs:{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z",fill:n}}]}},name:"lock",theme:"twotone"},p=d,b=l("6VBw"),f=function(n,e){return u["createElement"](b["a"],Object.assign({},n,{ref:e,icon:p}))};f.displayName="LockTwoTone";var h=u["forwardRef"](f),g=l("9kvl");function _(){var n="/Users/fgh/IdeaProjects/apisix-dashboard/web/src/pages/User/components/LoginMethodPassword.tsx",e="76d2174671c95d667d14551157a14dfd624723cb",l=new Function("return this")(),t="__coverage__",a={path:"/Users/fgh/IdeaProjects/apisix-dashboard/web/src/pages/User/components/LoginMethodPassword.tsx",statementMap:{0:{start:{line:25,column:16},end:{line:25,column:47}},1:{start:{line:27,column:52},end:{line:144,column:1}},2:{start:{line:31,column:4},end:{line:84,column:6}},3:{start:{line:87,column:4},end:{line:93,column:5}},4:{start:{line:88,column:19},end:{line:88,column:51}},5:{start:{line:89,column:6},end:{line:92,column:8}},6:{start:{line:94,column:4},end:{line:94,column:14}},7:{start:{line:97,column:4},end:{line:104,column:5}},8:{start:{line:98,column:6},end:{line:103,column:7}},9:{start:{line:99,column:8},end:{line:99,column:47}},10:{start:{line:100,column:8},end:{line:100,column:20}},11:{start:{line:102,column:8},end:{line:102,column:21}},12:{start:{line:105,column:4},end:{line:105,column:17}},13:{start:{line:108,column:4},end:{line:139,column:5}},14:{start:{line:109,column:6},end:{line:132,column:7}},15:{start:{line:110,column:23},end:{line:117,column:10}},16:{start:{line:119,column:8},end:{line:119,column:57}},17:{start:{line:120,column:8},end:{line:124,column:10}},18:{start:{line:127,column:8},end:{line:131,column:10}},19:{start:{line:134,column:6},end:{line:138,column:8}},20:{start:{line:142,column:4},end:{line:142,column:37}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:30,column:10},end:{line:30,column:11}},loc:{start:{line:30,column:16},end:{line:85,column:3}},line:30},1:{name:"(anonymous_1)",decl:{start:{line:86,column:2},end:{line:86,column:3}},loc:{start:{line:86,column:34},end:{line:95,column:3}},line:86},2:{name:"(anonymous_2)",decl:{start:{line:96,column:13},end:{line:96,column:14}},loc:{start:{line:96,column:25},end:{line:106,column:3}},line:96},3:{name:"(anonymous_3)",decl:{start:{line:107,column:10},end:{line:107,column:11}},loc:{start:{line:107,column:44},end:{line:140,column:3}},line:107},4:{name:"(anonymous_4)",decl:{start:{line:141,column:10},end:{line:141,column:11}},loc:{start:{line:141,column:16},end:{line:143,column:3}},line:141}},branchMap:{0:{loc:{start:{line:87,column:4},end:{line:93,column:5}},type:"if",locations:[{start:{line:87,column:4},end:{line:93,column:5}},{start:{line:87,column:4},end:{line:93,column:5}}],line:87},1:{loc:{start:{line:97,column:4},end:{line:104,column:5}},type:"if",locations:[{start:{line:97,column:4},end:{line:104,column:5}},{start:{line:97,column:4},end:{line:104,column:5}}],line:97},2:{loc:{start:{line:108,column:4},end:{line:139,column:5}},type:"if",locations:[{start:{line:108,column:4},end:{line:139,column:5}},{start:{line:108,column:4},end:{line:139,column:5}}],line:108},3:{loc:{start:{line:108,column:8},end:{line:108,column:42}},type:"binary-expr",locations:[{start:{line:108,column:8},end:{line:108,column:23}},{start:{line:108,column:27},end:{line:108,column:42}}],line:108}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0},f:{0:0,1:0,2:0,3:0,4:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"76d2174671c95d667d14551157a14dfd624723cb"},c=l[t]||(l[t]={});c[n]&&c[n].hash===e||(c[n]=a);var o=c[n];return _=function(){return o},o}_();var v=(_().s[0]++,m.a.createRef()),w=(_().s[1]++,{id:"password",name:Object(g["b"])({id:"component.user.loginMethodPassword"}),render:function(){return _().f[0]++,_().s[2]++,m.a.createElement(i["a"],{ref:v,name:"control-ref"},m.a.createElement(i["a"].Item,{name:"username",rules:[{required:!0,message:Object(g["b"])({id:"component.user.loginMethodPassword.inputUsername"})}]},m.a.createElement(s["a"],{size:"large",type:"text",placeholder:Object(g["b"])({id:"component.user.loginMethodPassword.username"}),prefix:m.a.createElement(r["a"],{style:{color:"#1890ff"}})})),m.a.createElement(i["a"].Item,{name:"password",rules:[{required:!0,message:Object(g["b"])({id:"component.user.loginMethodPassword.inputPassword"})}]},m.a.createElement(s["a"],{size:"large",type:"password",placeholder:Object(g["b"])({id:"component.user.loginMethodPassword.password"}),prefix:m.a.createElement(h,null)})),m.a.createElement(i["a"].Item,null,m.a.createElement(o["a"],{title:Object(g["b"])({id:"component.user.loginMethodPassword.modificationMethod"})},m.a.createElement("a",{href:"https://github.com/apache/apisix-dashboard/blob/master/api/conf/conf.yaml#L70-L75",target:"_blank"},Object(g["b"])({id:"component.user.loginMethodPassword.changeDefaultAccount"})))))},getData:function(){if(_().f[1]++,_().s[3]++,v.current){_().b[0][0]++;var n=(_().s[4]++,v.current.getFieldsValue());return _().s[5]++,{username:n.username,password:n.password}}return _().b[0][1]++,_().s[6]++,{}},checkData:function(){var n=Object(c["a"])(a.a.mark((function n(){return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(_().f[2]++,_().s[7]++,!v.current){n.next=19;break}return _().b[1][0]++,_().s[8]++,n.prev=5,_().s[9]++,n.next=9,v.current.validateFields();case 9:return _().s[10]++,n.abrupt("return",!0);case 13:return n.prev=13,n.t0=n["catch"](5),_().s[11]++,n.abrupt("return",!1);case 17:n.next=20;break;case 19:_().b[1][1]++;case 20:return _().s[12]++,n.abrupt("return",!1);case 22:case"end":return n.stop()}}),n,null,[[5,13]])})));function e(){return n.apply(this,arguments)}return e}(),submit:function(){var n=Object(c["a"])(a.a.mark((function n(e){var l,t,c;return a.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(l=e.username,t=e.password,_().f[3]++,_().s[13]++,_().b[3][0]++,""===l||(_().b[3][1]++,""===t)){n.next=23;break}return _().b[2][0]++,_().s[14]++,n.prev=6,_().s[15]++,n.next=10,Object(g["g"])("/user/login",{method:"POST",requestType:"json",data:{username:l,password:t}});case 10:return c=n.sent,_().s[16]++,localStorage.setItem("token",c.data.token),_().s[17]++,n.abrupt("return",{status:!0,message:Object(g["b"])({id:"component.user.loginMethodPassword.success"}),data:[]});case 17:return n.prev=17,n.t0=n["catch"](6),_().s[18]++,n.abrupt("return",{status:!1,message:"",data:[]});case 21:n.next=26;break;case 23:return _().b[2][1]++,_().s[19]++,n.abrupt("return",{status:!1,message:Object(g["b"])({id:"component.user.loginMethodPassword.fieldInvalid"}),data:[]});case 26:case"end":return n.stop()}}),n,null,[[6,17]])})));function e(e){return n.apply(this,arguments)}return e}(),logout:function(){_().f[4]++,_().s[20]++,localStorage.removeItem("token")}});e["a"]=w}}]);